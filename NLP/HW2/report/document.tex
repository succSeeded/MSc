% !TeX spellcheck = ru_RU-Russian
% !TeX encoding = UTF-8 

\documentclass[14pt,a4paper]{extarticle}

\usepackage[russian]{babel}
\usepackage[utf8]{inputenc}
\usepackage{setspace} 
\usepackage[a4paper,
			left=30mm,
			right=10mm,
			top=20mm,
			bottom=20mm]{geometry}
\usepackage{amsmath,amssymb,amsthm, bm}
\usepackage{cite}
\usepackage{graphicx} 
\usepackage{subfigure,subcaption}
\usepackage{kprjHSE} 
\usepackage{tikz}
\usepackage{xcolor,tabularray}
\usepackage{wrapfig}
\usepackage{hyperref}
\hypersetup{
	colorlinks=true,
	linkcolor=black,
	citecolor=black,
	filecolor=black,      
	urlcolor=blue,
}

\usetikzlibrary{positioning}

\renewcommand{\labelenumii}{\arabic{enumi}.\arabic{enumii}}

\lstset{
	frame=single,
	basicstyle=\ttfamily,
	breaklines=true,
	tabsize=4
}

\LabWork
\LabWorkNo{1}
\title{Сегментация и Морфологический анализ текста, Статистика}
\setcounter{MaxMatrixCols}{20}

\FirstAuthor{М.Д.~Кирдин}
\FirstConsultant{Е.И.~Большакова}
\discipline{Компьютерная лингвистика и анализ текстов}
\faculty{Факультет Компьютерных Наук}
\chair{Школа Анализа Данных и Искусственного Интеллекта}
\workyear{2025}

\onehalfspacing

\begin{document}
	\maketitle
	
	\tableofcontents
	
	\begin{introduction}
		
		В данной работе была поставлена цель провести исследование качества разрешения морфологической омонимии одного из морфоанализаторов для русского языка, подключив его к своей программе. Был выбран \textit{pymorphy2} вследствие легкости его использования.
		
		Для оценки были использованы материалы соревнования по морфологической разметке \textit{\href{https://github.com/dialogue-evaluation/morphoRuEval-2017}{MorphoRuEval --- 2017}}, а именно -- тексты в разметке \textit{OpenCorpora}. Они состоят из объединения материалов \textit{Live Journal from General Internet-Corpus of Russian, 30 million words}, \textit{Librusec, 300 million words} и \textit{Social networks, 50 million words}. В этой работе на стояла цель выяснить связь качества морфологического анализа текста в зависимости от тематики, поэтому тексты были объединены в один файл.
	\end{introduction}
	
	\section{Ход работы}
	
		Была поставлена задача создания программы, которая сравнивает граммемы из размеченного текста с граммемами предложенными морфоанализатором. Для этого была реализована программа на языке \textit{Python}, доступная в приложении А.
		
		Разметка текстовых данных не совпадала с разметкой, предлагаемой морфоанализатором. По этой причине было необходим перевод морфологических тегов. В данном случае большая часть тегов отличилась лишь названием, поэтому было решено использовать словари, связывающие теги из корпуса с тегами из морфоанализатора ($POS\textunderscore ALIASES$ и $VALUE\textunderscore ALIASES$). Стоит заметить, что в разметке текста, в отличие от предлагаемой морфоанализатором, не различались прилагательные и причастные, форма (краткая/полная и компаратив/суперлатив) была тегом самого прилагательного (в морфоанализаторе краткие и полные прилагательные считались различными частями речи), не различались герундий и инфинитив глаголов, а также настоящее и будущее время были объединены в один тег.
		
		В данной работе были выбраны следующие метрики качества разрешения морфологической омонимии: точность по \textbf{меткам}, точность по \textbf{словам}, точность по \textbf{предложениям} и точность по каждой из \textbf{неслужебных частей речи}. Неслужебными считались: существительные, прилагательные, наречия, числительные, местоимения и детерминативы. Для точности по меткам было посчитано отношение количества совпадающих меток и общего количества меток, по словам и частям речи --- отношение количества слов с полностью совпадающими метками и общего числа рассмотренных слов, по предложения --- отношение количества предложений в которых полностью совпали метки каждого рассмотренного слова к общему числу предложений. В ходе работы морфоанализатор предлагает несколько вариантов разрешения омонимии с соответствующими им вероятностями, поэтому было принято решение рассматривать исключительно наиболее вероятные из них. 
		
		С результатами работы программы можно ознакомиться в таблице 1.
		
		\begin{center}
			\begin{tblr}{width=\linewidth,
					colspec={|X[2,l]|X[c]|X[c]|X[c]|}} 
				\hline
				Параметр & Правильно определено морфоанализатором & Общее число & Точность\\
				\hline 
				предложения & 11856 & 38508 & 0,3079\\
				\hline 
				слова & 171119 & 231537 & 0,7391\\
				\hline 
				метки & 768528 & 860008 & 0,8936\\
				\hline 
				существительные & 102735 & 121387 & 0,8463\\
				\hline 
				прилагательные & 31533 & 47054 & 0,6701\\
				\hline 
				местоимения & 1724 & 8793 & 0,1961\\
				\hline 
				детерминативы & 60 & 158 & 0,3797\\
				\hline 
				глаголы & 22770 & 41277 & 0,5516\\
				\hline 
				наречия & 11626 & 11626 & 1,0\\
				\hline 
				числительные & 671 & 1242 & 0,5402\\
				\hline
			\end{tblr}
			\vspace{14pt} \ \\
			\textbf{Таблица 1.}~Метрики, полученные в результате работы программы
		\end{center}
		
	\begin{results}
		Согласно таблице 1, наилучшее качество разрешения омонимии наблюдается у наречий. Это объясняется тем, что в корпусе наречия либо не имели тегов, либо имели единственный тег --- степень. Также можно заметить, что среди существительных и прилагательных наивысшее качество разрешения омонимии. Для остальных местоимений и детерминативов точность разрешения омонимии меньше 50\%.
	\end{results}

	\section*{Заключение}
	\addcontentsline{toc}{section}{\MakeUppercase{Заключение}}
	
	Морфоанализатор \textit{pymophy2} стоит использовать для автоматического разрешения морфологической омонимии среди существительных и прилагательных. При этом стоит заметить, что он расставляет метки в целом с высокой точностью.

	\section*{Приложение А}
	\addcontentsline{toc}{section}{\MakeUppercase{Приложение А}}
	
	\centering\textbf{Листинг А.1.} Программа run.py
	\lstinputlisting[language=Python, showstringspaces=false]{code/run.py}

\end{document}